#include "SinePattern.h"
#include "GameObject.h"

void SinePattern::Move(float deltaTime, GameObject* lpObject)
{
	if (lpObject)
	{
		/*
			lpObject->originAngle : ? ?????? ????
			lpObject->speed : ???????? ?????? ???
			lpObject->period : ??????? ??? ?? ???? ии?????? 1??? ???? ???????
			lpObject->amplitude : ??????? ???? ????? ?????? ????? ии????
			lpObject->pos : ???? ???
		*/
		Transform& transform = lpObject->transform;
		lpObject->pos.x = transform.pos.x + cosf(lpObject->angle) * transform.speed * lpObject->elapsedTime
			+ cosf(lpObject->angle + transform.angle) * sin(transform.angle) * sin(lpObject->angle + transform.angle + transform.period * lpObject->elapsedTime) * transform.amplitude;
		lpObject->pos.y = transform.pos.y + sinf(lpObject->angle) * transform.speed * lpObject->elapsedTime
			+ sinf(lpObject->angle + transform.angle) * sin(transform.angle) * sin(lpObject->angle + transform.angle + transform.period * lpObject->elapsedTime) * transform.amplitude;
	}
}
